<app-navbar/>

<app-sidebar-filter/>

<div class="main-container" style="margin-left: 50px;" *ngIf="userFound">
    <div class="content-container">
        <div class="profile-card">
            <div class="profile-data">
                <img src="{{profile.profilePicture}}">

                <div class="profile-info">
                    <h5 class="username" [class.banned]="profile.banned">{{profile.username}}</h5>
                    <div>Követők: {{profile.followerCount}}</div>
                    <div>Követések: {{profile.followedCount}}</div>
                </div>
            </div>

            <div class="interaction-buttons">
                <app-follow-button [isFollowed]="profile.followed" (click)="toggleFollow()" *ngIf="!self"/>
                <app-ban-button [isBanned]="profile.banned" (click)="toggleBan()" *ngIf="!self && auth.getLoggedInUser().role == 'admin'"/>
            </div>
        </div>

        <br>

        <app-post *ngFor="let post of posts" [getPostData]="post"/>

        <app-intersection-observer (intersecting)="fetchData()"/>

        <app-loading *ngIf="isFetching"/>
    </div>
</div>

<app-lightbox/>

<app-dialog/>

<app-page-not-found *ngIf="!userFound"/>